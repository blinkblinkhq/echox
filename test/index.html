<!--For Debugging -->
<div id="root"></div>
<script type="module">
  import * as EchoX from "echox";

  const {html} = EchoX;

  const Add = EchoX.component(
    EchoX.reactive()
      .get(EchoX.ref, null)
      .call((d) => (d[EchoX.ref] = (x, y) => x + y)),
    html.div()("Add"),
  );

  const App = EchoX.component(
    EchoX.reactive()
      .let("add", null)
      .let("sum", 0)
      .call((d) => d.add && (d.sum = d.add(1, 2))),
    EchoX.Fragment()(
      Add({[EchoX.ref]: "add"}),
      html.div()((d) => d.sum),
    ),
  );

  const root = document.getElementById("root");
  EchoX.mount(root, App());
</script>
